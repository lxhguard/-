# 从输入URL到页面加载发生了什么？

```
    1.DNS解析(网址->IP地址)：DNS缓存：浏览器，操作系统，分级查询：本地DNS服务器，根域名服务器，COM顶级域名服务器，google.com域名服务器
    2.TCP连接（三次握手）->为什么两次不可以？
    3.发送HTTP请求
    4.服务处理请求，并且返回HTTP报文
    5.浏览器解析和渲染页面
    6.连接结束（四次挥手）-> 三次？
```

```sequence
   第一次握手：客户端 -> 服务端:  SYN=1(请求建立连接)，seq=n(序列号)
   第二次握手：服务端 -> 客户端: SYN=1(同意建立连接)，ack=n+1(确认收到信息),seq=x(服务端序列号)
   第三次握手：客户端 -> 服务端:SYN=0(开始发送信息),ack=x+1(确认),seq=n+1
``` 
>1.客户端具有发送信息的能力
>2.服务端具有接受信息和发送信息的能力
>3.客户端具有接受信息的能力

```sequence
    客户端 -> 服务端:发完了
    服务端 -> 客户端:知道发完了
    服务端 -> 客户端:收完了
    客户端 -> 服务端:知道收完了
```
>发完了，知道发完了，收完了，知道收完了
>客户端：男   服务端：女


>自上而下  下载||渲染   css并行  图片异步请求  js挂起
>html->dom  + css->cssom  =  render渲染树 (不渲染:head,display:none)  4.布局    5.绘制 